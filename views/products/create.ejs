<%- include('../partials/head', { title: 'Agregar Nuevo Producto - FoodRescue' }) %>
<%- include('../partials/header', { user, cartCount }) %>

<main class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    <h2 class="h5 mb-0">Agregar Nuevo Producto</h2>
                </div>
                <div class="card-body">
                    <form action="/products" method="POST" enctype="multipart/form-data">
                        <div class="mb-3">
                            <label for="name" class="form-label">Nombre del Producto *</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label">Descripción *</label>
                            <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                        </div>

                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label for="category" class="form-label">Categoría *</label>
                                <select class="form-select" id="category" name="category" required>
                                    <option value="" selected disabled>Seleccionar...</option>
                                    <option value="panaderia">Panadería</option>
                                    <option value="frutas">Frutas y Verduras</option>
                                    <option value="lacteos">Lácteos</option>
                                    <option value="comida-preparada">Comida Preparada</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="restaurant" class="form-label">Comercio *</label>
                                <input type="text" class="form-control" id="restaurant" name="restaurant" required>
                            </div>
                        </div>

                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label for="originalPrice" class="form-label">Precio Original ($) *</label>
                                <input type="number" step="0.01" class="form-control" id="originalPrice" name="originalPrice" required>
                            </div>
                            <div class="col-md-6">
                                <label for="price" class="form-label">Precio de Rescate ($) *</label>
                                <input type="number" step="0.01" class="form-control" id="price" name="price" required>
                            </div>
                        </div>

                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label for="stock" class="form-label">Cantidad Disponible *</label>
                                <input type="number" class="form-control" id="stock" name="stock" required>
                            </div>
                            <div class="col-md-6">
                                <label for="pickupTime" class="form-label">Horario de Recogida *</label>
                                <input type="text" class="form-control" id="pickupTime" name="pickupTime" placeholder="Ej: 18:00 - 20:00" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="image" class="form-label">Imagen del Producto *</label>
                            <input type="file" class="form-control" id="image" name="image" accept="image/*" required>
                            <div class="form-text">Formatos aceptados: JPG, PNG (Máx. 2MB)</div>
                        </div>

                        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                            <a href="/products" class="btn btn-outline-secondary me-md-2">Cancelar</a>
                            <button type="submit" class="btn btn-success">Guardar Producto</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</main>

<%- include('../partials/footer') %>
